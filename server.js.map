{"version":3,"sources":["server.js"],"names":["express","require","cors","fetch","app","port","process","env","PORT","use","get","req","res","lat","lng","page_type","query","console","log","url","headers","then","response","ok","Error","json","data","catch","error","status","send","complete_menu","submitAction","restaurantId","listen"],"mappings":";AAAA,MAAMA,EAAUC,QAAQ,WAClBC,EAAOD,QAAQ,QACfE,EAAQF,QAAQ,eAEhBG,EAAMJ,IACNK,EAAOC,QAAQC,IAAIC,MAAQ,IAEjCJ,EAAIK,IAAIP,KAGRE,EAAIM,IAAI,mBAAoB,MAAOC,EAAKC,KACpC,MAAM,IAAEC,EAAG,IAAEC,EAAG,UAAEC,GAAcJ,EAAIK,MACpCC,QAAQC,IAAIP,EAAIK,OAEhB,MAAMG,yDAA6DN,SAAWC,eAAiBC,UAEzFZ,EAAMgB,EAAK,CACbC,QAAS,CACL,eAAgB,mBAChB,8BAA+B,IAC/B,aAAc,yHAIjBC,KAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAM,+BAEpB,OAAOF,EAASG,SAEnBJ,KAAKK,IACFT,QAAQC,IAAIQ,GACZd,EAAIa,KAAKC,KAEZC,MAAMC,IACHX,QAAQW,MAAMA,GACdhB,EAAIiB,OAAO,KAAKC,KAAK,yBAMjC1B,EAAIM,IAAI,YAAa,MAAOC,EAAKC,KAC7B,MAAQ,YAAaG,EAAW,gBAAiBgB,EAAa,IAAElB,EAAG,IAAEC,EAAG,aAAEkB,EAAY,aAAEC,GAAiBtB,EAAIK,MAC7GC,QAAQC,IAAIP,EAAIK,OAEhB,MAAMG,mDAAuDJ,mBAA2BgB,SAAqBlB,SAAWC,kBAAoBkB,kBAA6BC,UAGnK9B,EAAMgB,EAAK,CACbC,QAAS,CACL,eAAgB,mBAChB,8BAA+B,IAC/B,aAAc,yHAIjBC,KAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAM,+BAEpB,OAAOF,EAASG,SAEnBJ,KAAKK,IACFT,QAAQC,IAAIQ,GACZd,EAAIa,KAAKC,KAEZC,MAAMC,IACHX,QAAQW,MAAMA,GACdhB,EAAIiB,OAAO,KAAKC,KAAK,yBAKjC1B,EAAIM,IAAI,IAAK,CAACC,EAAKC,KACfA,EAAIa,KAAK,CAAE,KAAQ,iGAGvBrB,EAAI8B,OAAO7B,EAAM,KACbY,QAAQC,mCAAmCb","file":"server.js","sourceRoot":"..","sourcesContent":["const express = require('express');\nconst cors = require('cors');\nconst fetch = require('cross-fetch');\n\nconst app = express();\nconst port = process.env.PORT || 3000;\n\napp.use(cors());\n\n// For Restaurant API\napp.get('/api/restaurants', async (req, res) => {\n    const { lat, lng, page_type } = req.query;\n    console.log(req.query);\n\n    const url = `https://www.swiggy.com/dapi/restaurants/list/v5?lat=${lat}&lng=${lng}&page_type=${page_type}`;\n\n    await fetch(url, {\n        headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36'\n\n        }\n    })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log(data);\n            res.json(data);\n        })\n        .catch(error => {\n            console.error(error);\n            res.status(500).send('An error occurred');\n        });\n});\n\n\n// For Menu API\napp.get('/api/menu', async (req, res) => {\n    const { 'page-type': page_type, 'complete-menu': complete_menu, lat, lng, submitAction, restaurantId } = req.query;\n    console.log(req.query);\n\n    const url = `https://www.swiggy.com/dapi/menu/pl?page-type=${page_type}&complete-menu=${complete_menu}&lat=${lat}&lng=${lng}&submitAction=${submitAction}&restaurantId=${restaurantId}`;\n\n\n    await fetch(url, {\n        headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36'\n\n        }\n    })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log(data);\n            res.json(data);\n        })\n        .catch(error => {\n            console.error(error);\n            res.status(500).send('An error occurred');\n        });\n});\n\n\napp.get('/', (req, res) => {\n    res.json({ \"test\": \"Welcome to FoodFire! - See Live Web URL for this Server - https://foodfire-app.netlify.app\" });\n})\n\napp.listen(port, () => {\n    console.log(`Server is listening on port ${port}`);\n});\n"]}